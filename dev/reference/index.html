<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · FMIExchange.jl</title><meta name="title" content="Reference · FMIExchange.jl"/><meta property="og:title" content="Reference · FMIExchange.jl"/><meta property="twitter:title" content="Reference · FMIExchange.jl"/><meta name="description" content="Documentation for FMIExchange.jl."/><meta property="og:description" content="Documentation for FMIExchange.jl."/><meta property="twitter:description" content="Documentation for FMIExchange.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">FMIExchange.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">FMIExchange.jl</a></li><li><a class="tocitem" href="../tutorial/">Tutorials</a></li><li><a class="tocitem" href="../Defining_and_Simulating_Models_short/">Defining and Simulating Models</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#FMU-specific-functions"><span>FMU-specific functions</span></a></li><li><a class="tocitem" href="#Simulation-Models"><span>Simulation Models</span></a></li><li><a class="tocitem" href="#Model-Specifications"><span>Model Specifications</span></a></li><li><a class="tocitem" href="#Simulation-composition-functionality"><span>Simulation composition functionality</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Electa-Git/FMIExchange.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Electa-Git/FMIExchange.jl/blob/main/docs/src/reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><h2 id="FMU-specific-functions"><a class="docs-heading-anchor" href="#FMU-specific-functions">FMU-specific functions</a><a id="FMU-specific-functions-1"></a><a class="docs-heading-anchor-permalink" href="#FMU-specific-functions" title="Permalink"></a></h2><p>FMIExchange.jl currently supports only FMI version 2.0. FMIExchange.jl automatically generates the callbacks required for handling all FMU events. To simulate the FMU, a <code>CachedFMU2</code> must be wrapped in a <code>CachedModel</code> (See <a href="#Simulation-Models">Simulation Models</a>)</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.CachedFMU2" href="#FMIExchange.CachedFMU2"><code>FMIExchange.CachedFMU2</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CachedFMU2{R}
CachedFMU2(fmuloc::String, start::Real, stop::Real, ins::AbstractVector, outs::AbstractVector, staterefs::AbstractVector, parameters::Union{Dict,Nothing}=nothing)</code></pre><p>Wrapper struct for FMU2s. This is mainly used for dispatch purposes and ensures that the inputs, states and outputs are returned in the expected order</p><p><strong>Arguments</strong></p><ul><li><code>fmuloc::String</code> fmu file path</li><li><code>start::Real</code> simulation start time</li><li><code>stop::Real</code> simulation stop time</li><li><code>ins::AbstractVector</code> vector of fmu inputs (as string or symbol)</li><li><code>outs::AbstractVector</code> vector of fmu outputs (as string or symbol)</li><li><code>staterefs::AbstractVector</code> vector of fmu states (as string or symbol)</li><li><code>parameters::Union{Dict, Nothing}=nothing</code> dictionary of fmu parameters or nothing if the default parameters should be used</li></ul><p><strong>Fields</strong></p><ul><li><code>fmu::FMU2</code> fmu object as defined by <code>FMICore.jl</code></li><li><code>c::FMU2Component</code> fmu component object as defined by <code>FMICore.jl</code></li><li><code>input_value_references::R</code> vector of non-human-readable references to the inputs (for working with the fmu)</li><li><code>output_value_references::R</code> vector of non-human-readable references to the outputs (for working with the fmu)</li><li><code>state_value_references::R</code> vector of non-human-readable references to the states (for working with the fmu)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/FMU.jl#L3-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.affectFMU!-Tuple{CachedModel{&lt;:CachedFMU2}, Any, Any}" href="#FMIExchange.affectFMU!-Tuple{CachedModel{&lt;:CachedFMU2}, Any, Any}"><code>FMIExchange.affectFMU!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">affectFMU!(model::CachedModel{&lt;:CachedFMU2}, integrator, idx)</code></pre><p>Handle events in the FMU</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/callbacks_fmijl.jl#L20-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.condition!-Tuple{CachedModel{&lt;:CachedFMU2}, Any, Any, Any}" href="#FMIExchange.condition!-Tuple{CachedModel{&lt;:CachedFMU2}, Any, Any, Any}"><code>FMIExchange.condition!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">condition!(model::CachedModel{&lt;:CachedFMU2}, x, t, integrator)
condition!(out, model::CachedModel{&lt;:CachedFMU2}, x, t, integrator)</code></pre><p>Return event indicators <code>out</code> for the FMU (non-mutating and mutating version)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/callbacks.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.get_time_callbacks" href="#FMIExchange.get_time_callbacks"><code>FMIExchange.get_time_callbacks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_time_callbacks(model::CachedModel{&lt;:CachedFMU2}, start, stop)</code></pre><p>Return a callback to handle all time events in the FMU</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/callbacks_fmijl.jl#L90-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.get_state_callbacks" href="#FMIExchange.get_state_callbacks"><code>FMIExchange.get_state_callbacks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_state_callbacks(model::CachedModel{&lt;:CachedFMU2})</code></pre><p>Return a callback to handle state events in an FMU.</p><p>The returned callback is a continuous callback is able to detect events due to changes in the FMU state, but it will not be able to detect events due to changes in the FMU input.</p><p>See also <a href="#FMIExchange.get_input_callbacks"><code>get_input_callbacks</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/callbacks_fmijl.jl#L103-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.get_step_callbacks" href="#FMIExchange.get_step_callbacks"><code>FMIExchange.get_step_callbacks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_step_callbacks(model::CachedModel{&lt;:CachedFMU2})</code></pre><p>Return a callback to handle integrator step completion in the FMU</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/callbacks_fmijl.jl#L122-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.get_input_callbacks" href="#FMIExchange.get_input_callbacks"><code>FMIExchange.get_input_callbacks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_input_callbacks(model::CachedModel{&lt;:CachedFMU2})</code></pre><p>Return a callback to handle state events in an FMU.</p><p>The returned callback is a discrete callback will be able to detect events due to changes in the FMU input, but it  will not be able to detect events due to changes in the FMU state.</p><p>See also <a href="#FMIExchange.get_state_callbacks"><code>get_state_callbacks</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/callbacks.jl#L24-L31">source</a></section></article><h2 id="Simulation-Models"><a class="docs-heading-anchor" href="#Simulation-Models">Simulation Models</a><a id="Simulation-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Models" title="Permalink"></a></h2><p>Simulation models can be directly simulated with <a href="https://docs.sciml.ai/DiffEqDocs/stable/">DifferentialEquations.jl</a> like one normally would. They contain machine-readable address maps which allow to easily combine multiple simulation models in one simulation.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.AbstractSimModel" href="#FMIExchange.AbstractSimModel"><code>FMIExchange.AbstractSimModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractSimModel</code></pre><p>Simulation model that can be directly simulated using <code>DifferentialEquations.jl</code>. An <code>AbstractSimModel</code> wraps an ODE with events such that it can be easily used in a simulation with multiple components.</p><p><strong>Usage</strong></p><p>A simulation model contains a number of inputs, states and outputs. States are subject to an ODE with events. Outputs can be calculated from the inputs and states of the model, but this calculation may not modify the state of the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/SimModel.jl#L4-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.SimModel" href="#FMIExchange.SimModel"><code>FMIExchange.SimModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimModel &lt;: AbstractSimModel
SimModel(f, g, ilength::Integer, olength::Integer, xlength::Integer, cbs; ioffset = 0, xoffset = 0)</code></pre><p>Return a basic simulation model</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: function for calculating the derivative (refer to <code>DifferentialEquations.jl</code>)</li><li><code>g</code>: function for calculating the output. This function is called as follows <code>g(out, state, in, time)</code> and should mutate the <code>out</code> variable </li><li><code>ilength</code>: length of the model input</li><li><code>olength</code>: length of the model output</li><li><code>xlength</code>: length of the model state</li><li><code>cbs</code>: callbacks associated with the model</li><li><code>ioffset=0</code>: io memory buffer address offset</li><li><code>xoffset=0</code>: state memory buffer address offset</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/SimModel.jl#L50-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.CachedModel" href="#FMIExchange.CachedModel"><code>FMIExchange.CachedModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CachedModel &lt;: AbstractSimModel
CachedModel(fmu::CachedFMU2, uoffset=0, poffset=0)</code></pre><p>Simulation model that contains caches for storing the state and input/output.</p><p>This is primarily used to accelerate FMUs: C-calls to the FMU cannot operate on array views. If a standard <code>SimModel</code> were used, every C-call to the FMU would thus convert that view to a new array, allocating memory and massively slowing down the simulation.  This struct preallocates fixed-size caches of types which can be directly passed to C-calls and do not need to be converted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/SimModel.jl#L86-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.AbstractSimModel-Tuple{Any, Any, Any}" href="#FMIExchange.AbstractSimModel-Tuple{Any, Any, Any}"><code>FMIExchange.AbstractSimModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(::AbstractSimModel)(u, p, t)
(::AbstractSimModel)(du, u, p, t)</code></pre><p>Calculate the derivative of the model state. Refer to the documentation of <code>DifferentialEquations.jl</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/SimModel.jl#L22-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.output!-Tuple{AbstractSimModel, Any, Any, Any}" href="#FMIExchange.output!-Tuple{AbstractSimModel, Any, Any, Any}"><code>FMIExchange.output!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">output!(::AbstractSimModel, u, p, t)</code></pre><p>Write the model output to the relevant indices of <code>p</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/SimModel.jl#L31-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.get_callbacks-Tuple{AbstractSimModel, Any, Any}" href="#FMIExchange.get_callbacks-Tuple{AbstractSimModel, Any, Any}"><code>FMIExchange.get_callbacks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_callbacks(model::AbstractSimModel, start, stop)</code></pre><p>Return a vector of callbacks associated with the simulation model.</p><p><strong>Arguments</strong></p><ul><li><code>model::AbstractSimModel</code> simulation model</li><li><code>start</code> simulation start time</li><li><code>stop</code> simulation stop time</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/SimModel.jl#L37-L45">source</a></section></article><h2 id="Model-Specifications"><a class="docs-heading-anchor" href="#Model-Specifications">Model Specifications</a><a id="Model-Specifications-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Specifications" title="Permalink"></a></h2><p>Model specifications contain human-readable address maps, and can be converted to simulation models for simulation.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.AbstractModelSpecification" href="#FMIExchange.AbstractModelSpecification"><code>FMIExchange.AbstractModelSpecification</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractModelSpecification{S1,S2}</code></pre><p>Custom type with human-readable model information which allows automatic generation of simulation models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L3-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.ModelSpecification" href="#FMIExchange.ModelSpecification"><code>FMIExchange.ModelSpecification</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ModelSpecification{S1,S2,F,G} &lt;: AbstractModelSpecification{S1,S2}</code></pre><p><strong>Fields</strong></p><ul><li><code>inputs::AbstractVector{S1}</code>: Vector of human-readable input names</li><li><code>outputs::AbstractVector{S1}</code>: Vector of human-readable output names</li><li><code>states::AbstractVector{S2}</code>: Vector of human-readable state names</li><li><code>dynamics::F</code>: Function for calculating the derivative (refer to <code>DifferentialEquations.jl</code>)</li><li><code>output::G</code>: Function for calculating the output. This function is called as follows <code>output(out, state, in, time)</code> and should mutate the <code>out</code> variable </li></ul><p>See also <a href="#FMIExchange.SimModel"><code>SimModel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L43-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.FMUSpecification" href="#FMIExchange.FMUSpecification"><code>FMIExchange.FMUSpecification</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FMUSpecification{S1, S2, S3&lt;:Union{Symbol,AbstractString}, P&lt;:Union{Dict{String,Float64},Nothing}} &lt;: AbstractModelSpecification{S1,S2}</code></pre><p>A model specification that can be converted to a <code>CachedModel{&lt;:CachedFMU2}</code></p><p><strong>Fields</strong></p><ul><li><code>inputs::AbstractVector{S1}</code>: Vector of human-readable input names</li><li><code>outputs::AbstractVector{S1}</code>: Vector of human-readable output names</li><li><code>states::AbstractVector{S2}</code>: Vector of human-readable state names</li><li><code>fmu_location::S3</code>: Path to the FMU</li><li><code>parameters::P</code>: Dictionary with FMU parameters (or nothing to use defaults)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L67-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.usize-Tuple{AbstractModelSpecification}" href="#FMIExchange.usize-Tuple{AbstractModelSpecification}"><code>FMIExchange.usize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">usize(spec::AbstractModelSpecification)</code></pre><p>Return the length of the state memory buffer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L9-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.psize-Tuple{AbstractModelSpecification}" href="#FMIExchange.psize-Tuple{AbstractModelSpecification}"><code>FMIExchange.psize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">psize(spec::AbstractModelSpecification)</code></pre><p>Return the length of the io memory buffer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L15-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.create_model" href="#FMIExchange.create_model"><code>FMIExchange.create_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_model(::AbstractModelSpecification, uoffset=0, poffset=0; start=0.0, stop=1.0)
create_model(specs::AbstractVector{&lt;:AbstractModelSpecification}, uoffset=0, poffset=0; start=0.0, stop=1.0)</code></pre><p>Return a simulation model (<code>&lt;:AbstractSimModel</code>) with machine-readable address maps</p><p>If a vector of model specifications is provided, return a vector of simulation models with non-overlapping address maps</p><p>See also <a href="#FMIExchange.AbstractSimModel"><code>AbstractSimModel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L21-L29">source</a></section></article><h2 id="Simulation-composition-functionality"><a class="docs-heading-anchor" href="#Simulation-composition-functionality">Simulation composition functionality</a><a id="Simulation-composition-functionality-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-composition-functionality" title="Permalink"></a></h2><p>Below functions are meant to simplify composing complex simulations with multiple models.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.address_map-Tuple{Any, AbstractVector{&lt;:Integer}}" href="#FMIExchange.address_map-Tuple{Any, AbstractVector{&lt;:Integer}}"><code>FMIExchange.address_map</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">address_map(ins, outs, states, m::AbstractSimModel)
address_map(spec::AbstractModelSpecification, uoffset=0, poffset=0)
address_map(specs::AbstractVector{&lt;:AbstractModelSpecification}, uoffset=0, poffset=0)</code></pre><p>Return two dictionaries linking human-readable strings/symbols for model inputs/outputs and states to machine-readable indices</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/map.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.link_models-Tuple{Any, Any}" href="#FMIExchange.link_models-Tuple{Any, Any}"><code>FMIExchange.link_models</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">link_models(src, dst)
link_models(src, dst, iomap)</code></pre><p>Return a FunctionCallingCallback that connects inputs and outputs of models. This does not automatically resolve algebraic loops!</p><p><strong>Arguments</strong></p><ul><li><code>src</code> human-readable strings/symbols or machine-readable indices of the model io that will be copied</li><li><code>dst</code> human-readable strings/symbols or machine-readable indices of the copy destinations</li><li><code>iomap</code> dictionary mapping the human-readable strings/symbols to indices (if src and dst provided as string/symbol)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L102-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.output_callback-Tuple{AbstractSimModel}" href="#FMIExchange.output_callback-Tuple{AbstractSimModel}"><code>FMIExchange.output_callback</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">output_callback(m::AbstractSimModel)
output_callback(ms::AbstractVector{&lt;:AbstractSimModel})</code></pre><p>Return a callback that calls the output function of the simulation model <code>m</code> (or every simulation model in <code>ms</code>) after every integration step</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L124-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FMIExchange.dynamics-Tuple{Any}" href="#FMIExchange.dynamics-Tuple{Any}"><code>FMIExchange.dynamics</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dynamics(models)</code></pre><p>Return a single <code>DifferentialEquations.jl</code>-compatible function that calculates derivatives of all models in <code>models</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/FMIExchange.jl/blob/0993721c13d5bf1f484c2267c2220857f9466386/src/compose.jl#L90-L93">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Defining_and_Simulating_Models_short/">« Defining and Simulating Models</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Monday 6 May 2024 14:46">Monday 6 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
